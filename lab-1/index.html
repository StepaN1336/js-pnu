<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Калькулятор трикутника</title>
</head>
<body>
    <h2>Калькулятор прямокутного трикутника</h2>
    <label for="value1">Значення 1:</label>
    <input type="number" id="value1" step="any">
    <select id="type1">
        <option value="leg">Катет</option>
        <option value="hypotenuse">Гіпотенуза</option>
        <option value="adjacent angle">Прилеглий кут</option>
        <option value="opposite angle">Протилежний кут</option>
        <option value="angle">Кут</option>
    </select>
    <br>
    <label for="value2">Значення 2:</label>
    <input type="number" id="value2" step="any">
    <select id="type2">
        <option value="leg">Катет</option>
        <option value="hypotenuse">Гіпотенуза</option>
        <option value="adjacent angle">Прилеглий кут</option>
        <option value="opposite angle">Протилежний кут</option>
        <option value="angle">Кут</option>
    </select>
    <br>
    <button onclick="calculateTriangle()">Розрахувати</button>
    <pre id="output"></pre>

    <script>
        function triangle(value1, type1, value2, type2) {
            let triangleData = { a: null, b: null, c: null, alpha: null, beta: null };
            const DEG_TO_RAD = Math.PI / 180;
            const RAD_TO_DEG = 180 / Math.PI;

            if (value1 <= 0 || value2 <= 0) {
                alert("Усі значення повинні бути додатними числами.");
                return;
            }

            const types = ["leg", "hypotenuse", "adjacent angle", "opposite angle", "angle"];
            if (!types.includes(type1) || !types.includes(type2)) {
                alert("Вказано неіснуючий тип.");
                return;
            }

            if (type1.includes("angle") || type2.includes("angle")) {
                const angleValue = type1.includes("angle") ? value1 : value2;
                if (angleValue <= 0 || angleValue >= 90) {
                    alert("Кут повинен бути в межах (0°, 90°).");
                    return;
                }
            }

            if (type1 === "leg" && type2 === "leg") {
                triangleData.a = value1;
                triangleData.b = value2;
                triangleData.c = Math.sqrt(triangleData.a ** 2 + triangleData.b ** 2);
                triangleData.alpha = Math.atan(triangleData.a / triangleData.b) * RAD_TO_DEG;
                triangleData.beta = Math.atan(triangleData.b / triangleData.a) * RAD_TO_DEG;
            } else if ((type1 === "leg" && type2 === "hypotenuse") || (type1 === "hypotenuse" && type2 === "leg")) {
                const leg = type1 === "leg" ? value1 : value2;
                const hypotenuse = type1 === "hypotenuse" ? value1 : value2;

                if (leg >= hypotenuse) {
                    alert("Катет не може бути більшим або рівним гіпотенузі.");
                    return;
                }

                triangleData.a = leg;
                triangleData.c = hypotenuse;
                triangleData.b = Math.sqrt(triangleData.c ** 2 - triangleData.a ** 2);
                triangleData.alpha = Math.asin(triangleData.a / triangleData.c) * RAD_TO_DEG;
                triangleData.beta = 90 - triangleData.alpha;
            } else if ((type1 === "leg" && type2 === "adjacent angle") || (type1 === "adjacent angle" && type2 === "leg")) {
                const leg = type1 === "leg" ? value1 : value2;
                const angleRad = (type1 === "adjacent angle" ? value1 : value2) * DEG_TO_RAD;

                triangleData.a = leg;
                triangleData.beta = angleRad * RAD_TO_DEG;
                triangleData.b = triangleData.a / Math.tan(angleRad);
                triangleData.c = Math.sqrt(triangleData.a ** 2 + triangleData.b ** 2);
                triangleData.alpha = 90 - triangleData.beta;
            } else if ((type1 === "hypotenuse" && type2 === "angle") || (type1 === "angle" && type2 === "hypotenuse")) {
                const hypotenuse = type1 === "hypotenuse" ? value1 : value2;
                const angleRad = (type1 === "angle" ? value1 : value2) * DEG_TO_RAD;

                triangleData.c = hypotenuse;
                triangleData.alpha = angleRad * RAD_TO_DEG;
                triangleData.a = triangleData.c * Math.sin(angleRad);
                triangleData.b = Math.sqrt(triangleData.c ** 2 - triangleData.a ** 2);
                triangleData.beta = 90 - triangleData.alpha;
            } else {
                alert("Неправильно вказано один або більше типів.");
                return;
            }

            document.getElementById("output").innerText = `
                a: ${triangleData.a.toFixed(6)}
                b: ${triangleData.b.toFixed(6)}
                c: ${triangleData.c.toFixed(6)}
                alpha: ${triangleData.alpha.toFixed(6)}°
                beta: ${triangleData.beta.toFixed(6)}°
            `;
        }

        function calculateTriangle() {
            const value1 = parseFloat(document.getElementById("value1").value);
            const type1 = document.getElementById("type1").value;
            const value2 = parseFloat(document.getElementById("value2").value);
            const type2 = document.getElementById("type2").value;
            triangle(value1, type1, value2, type2);
        }
    </script>
</body>
</html>
